---
import { Icon } from "astro-icon/components";
const currentUrl = Astro.url.pathname;
const links = [
  {
    href: "/",
    text: "Home",
  },
  { text: "About", href: "/about" },
  { text: "Past Runs", href: "/past-runs" },
  { text: "Contact", href: "/contact" },
];
---

<header class="bg-white px-4 rounded-3xl my-8 md:px-10 xl:px-20 mx-4 xl:mx-0">
  <nav class="flex justify-between items-center gap-x-8 py-3">
    <a href="/" class="flex items-center gap-x-3 font-semibold text-lg">
      <svg width="50" height="50">
        <symbol id="ai:local:Kueh22NoText" viewBox="0 0 838.86 740.82"
          ><defs
            ><style>
              .cls-1 {
                fill: #fff;
              }
            </style></defs
          ><path
            fill="#0e9a61"
            d="M701.13 433.07c-1.31 15.12-22.73 32.17-33.15 39.61.39 3.9 1.24 10.44 1.76 14.42 1.01 7.75 1.26 9.87 1.25 11.1-.07 9.61-.2 27.49-10.89 39.04-15.37 16.63-44.56 16.42-69.55 13.75-7.35 10.64-29.78 39.89-61.11 51.28-34.53 12.56-97.25-5.24-110.02-9.1-9.52 2.89-46.86 13.52-79.54 13.52-11.12 0-21.71-1.23-30.48-4.42-31.32-11.39-53.75-40.64-61.11-51.28-24.95 2.67-54.06 2.91-69.29-13.54-10.1-10.91-11.51-26.35-11.69-37.01-.03-1.84.52-6.17 1.88-16.33.5-3.75 1.13-8.42 1.5-11.56-9.66-6.95-31.65-24.33-32.97-39.48-1.06-12.19-1.73-40.77 10.37-69.1L21.42 424.42c-3.95 1.88-6.54 5.61-6.91 9.98-.38 4.36 1.53 8.48 5.1 11.01L412.34 724.1c4.23 3 9.91 3 14.14 0l392.73-278.69c3.57-2.54 5.48-6.65 5.1-11.01s-2.96-8.09-6.91-9.98l-126.67-60.44c12.1 28.33 11.43 56.9 10.37 69.1Z"
          ></path><path
            d="M838.76 433.15c-.82-9.53-6.47-17.68-15.1-21.8l-145.3-69.34c2.74 3.76 5.15 7.61 7.3 11.51 1.91 3.46 3.6 6.95 5.1 10.45l126.67 60.44c3.95 1.89 6.54 5.62 6.91 9.98.38 4.36-1.53 8.48-5.1 11.01L426.51 724.09c-4.23 3-9.92 3-14.14 0L19.63 445.41c-3.57-2.54-5.48-6.65-5.1-11.01s2.96-8.09 6.91-9.98l126.67-60.45c1.49-3.5 3.19-6.99 5.1-10.45 2.15-3.9 4.57-7.74 7.3-11.51L15.2 411.35C6.57 415.47.92 423.62.1 433.15s3.35 18.52 11.15 24.06L403.98 735.9c4.62 3.28 10.03 4.92 15.45 4.92s10.83-1.64 15.45-4.92l392.73-278.69c7.8-5.54 11.97-14.53 11.15-24.06"
          ></path><path
            d="M342.48 304.53c-.4 5.08 1.31 9.67 5.24 14.03 11.24 12.45 39.42 20.99 71.81 21.75 33.33.75 62.66-6.9 74.66-19.57 4.55-4.81 6.53-10.11 6.05-16.21-2.1-26.6-33.36-35.96-43.99-38.38l-2.48 33.24-.43 5.75-4.26 3.88c-7.27 6.61-15.99 10.11-25.21 10.11-15.66 0-27.41-10.05-28.7-11.19l-4.33-3.85-.48-5.77-2.69-32.43c-9.2 1.94-43 10.94-45.19 38.65Z"
            class="cls-1"></path><path
            d="M668.49 353.34a93 93 0 0 0-10.33-12.73c-6.13-6.33-13.53-12.14-22.43-17.11-.12 0-.24.05-.36.05-.87 0-1.75-.19-2.59-.59-22.23-10.57-43.76-16.85-60.89-20.57-12.1-2.63-22-3.98-28.39-4.66-4.98-.53-7.84-.66-7.96-.66-3.04-.12-5.44-2.47-5.75-5.41-.03-.28-.06-.56-.05-.84a5.97 5.97 0 0 1 3.84-5.4 6.2 6.2 0 0 1 2.41-.4c.74.03 7.76.32 18.98 1.96 15.82 2.31 39.99 7.31 66.7 17.98-4.03-12.38-13.53-33.25-32.87-39.06-24.12-7.24-45.51-10.1-54.24-11.05-13.64 1.52-25.6 6.72-25.77 6.79-.79.35-1.62.52-2.44.52-2.31 0-4.52-1.34-5.52-3.59-1.35-3.04.02-6.6 3.06-7.96.48-.21 5.83-2.56 13.6-4.7-11.44-7.99-33.21-20.02-58.39-18.05l-1.2 16.09-.57 7.66-.18 2.35c3.4.69 9.73 2.21 16.91 5.06 2.05.81 4.16 1.75 6.3 2.79.4.2.8.38 1.21.59 9.31 4.73 16.61 10.63 21.77 17.51 5.21 6.94 8.23 14.89 8.92 23.64.74 9.42-2.48 18.22-9.32 25.45-16.38 17.31-50.75 23.4-79.1 23.4-1.56 0-3.09-.02-4.6-.05-28.28-.67-64.28-7.78-80.48-25.73-6.18-6.85-8.98-14.61-8.31-23.06.78-9.89 4.55-18.75 11.08-26.31 4.97-5.75 11.53-10.74 19.62-14.84 10.97-5.57 21.61-7.93 25.51-8.66l-.35-4.26-.63-7.64-1.12-13.44c-26.4-3.94-49.65 8.25-62.12 16.75 9.3 2.3 15.94 5.21 16.47 5.45 3.04 1.35 4.41 4.92 3.06 7.96-1 2.25-3.2 3.58-5.51 3.58-.82 0-1.65-.17-2.45-.52-.29-.13-13.4-5.8-27.8-6.99-7.1.7-30.03 3.41-56.16 11.25-18.93 5.68-28.43 25.8-32.6 38.26 28.4-11.5 54.03-16.56 69.99-18.76 10-1.38 16.21-1.64 16.9-1.67 1.13-.05 2.17.24 3.09.73a5.99 5.99 0 0 1 3.16 5.07c.02.52-.05 1.03-.16 1.51-.58 2.62-2.84 4.63-5.64 4.74-.1 0-2.29.1-6.12.47-5.82.56-15.45 1.77-27.51 4.27-17.54 3.64-40.19 10.01-63.61 21.15-.69.33-1.41.48-2.12.54-9.95 5.23-18.07 11.51-24.73 18.39a92 92 0 0 0-10.33 12.73c-20.06 29.77-19.38 65.13-18.22 78.47.62 7.1 16.1 21.7 30.1 31.15 3.87 2.59 3.44 6.14 2.74 12.03-.37 3.04-.9 7.05-1.43 11.04-.72 5.41-1.72 12.81-1.75 14.27.22 12.89 2.79 21.86 7.84 27.32 13.2 14.26 48.21 10.07 61.39 8.5l4.59-.55 2.43 3.93c.23.37 23.31 37.17 56.31 49.17 33.12 12.04 102.18-9.75 102.87-9.97l2.2-.7 2.2.7c.7.22 69.75 22.02 102.87 9.97 33-12 56.08-48.8 56.31-49.17l2.43-3.92 4.59.54c11.94 1.43 48.29 5.77 61.65-8.69 6.35-6.87 6.96-18.74 7.04-29.32-.04-.78-.65-5.41-1.13-9.13-2.38-18.28-2.89-22.18-.5-24.64l.15-.3 1.42-.97s.1-.07.15-.1c14.31-9.7 29.48-24.01 30.1-31.15 1.16-13.34 1.84-48.7-18.22-78.47Zm-364-10.8c-.79.25-79.57 25.96-99.13 91.89a6.04 6.04 0 0 1-5.78 4.32 6.043 6.043 0 0 1-5.79-7.75c21.4-72.14 103.57-98.86 107.06-99.96 3.17-1.01 6.56.75 7.57 3.93 1.01 3.17-.75 6.56-3.93 7.57m69.08 34.72c-.62.84-45.66 62.82-45.66 153.87a6.03 6.03 0 0 1-12.06 0c0-95.38 46.09-158.43 48.05-161.07 1.99-2.67 5.77-3.23 8.44-1.24s3.23 5.77 1.24 8.44Zm144.89 160.95a6.03 6.03 0 0 1-6.03-6.03c0-91.21-45.21-153.25-45.67-153.87a6.03 6.03 0 0 1 1.25-8.43 6.02 6.02 0 0 1 8.43 1.24c1.96 2.64 48.05 65.69 48.05 161.07 0 3.33-2.7 6.03-6.03 6.03Zm124.02-98.66c-.57.17-1.15.25-1.72.25-2.6 0-5-1.7-5.78-4.32-19.56-65.93-98.34-91.64-99.13-91.89-3.17-1.01-4.93-4.4-3.93-7.57s4.38-4.93 7.57-3.93c3.49 1.1 85.66 27.82 107.06 99.96.95 3.19-.87 6.55-4.07 7.5"
            class="cls-1"></path><path
            d="M480.37 261.84a91 91 0 0 0-6.3-2.79zm31.9 41.74c-.69-8.75-3.72-16.69-8.92-23.64-5.16-6.88-12.46-12.78-21.77-17.51-.4-.2-.8-.39-1.21-.59l-6.3-2.79c-7.19-2.86-13.51-4.37-16.91-5.06l-.4 5.31-.51 6.84c10.64 2.42 41.89 11.78 43.99 38.38.48 6.1-1.5 11.4-6.05 16.21-12 12.68-41.33 20.32-74.66 19.57-32.39-.77-60.57-9.3-71.81-21.75-3.93-4.35-5.65-8.94-5.24-14.03 2.19-27.7 35.99-36.7 45.19-38.65l-.72-8.73-.28-3.38c-3.9.73-14.54 3.09-25.51 8.66-8.08 4.1-14.65 9.1-19.62 14.84-6.53 7.55-10.3 16.41-11.08 26.31-.67 8.45 2.13 16.21 8.31 23.06 16.2 17.95 52.2 25.06 80.48 25.73 1.51.04 3.05.05 4.6.05 28.35 0 62.72-6.09 79.1-23.4 6.84-7.23 10.06-16.02 9.32-25.45ZM321.88 537.16c3.33 0 6.03-2.7 6.03-6.03 0-91.05 45.04-153.03 45.66-153.87 1.99-2.67 1.43-6.45-1.24-8.44s-6.45-1.43-8.44 1.24c-1.96 2.64-48.05 65.69-48.05 161.07 0 3.33 2.7 6.03 6.03 6.03Zm-124.02-98.67c.57.17 1.15.25 1.72.25 2.6 0 5-1.7 5.78-4.32 19.56-65.93 98.34-91.64 99.13-91.89a6.044 6.044 0 0 0 3.93-7.57 6.02 6.02 0 0 0-7.57-3.93c-3.49 1.1-85.66 27.82-107.06 99.96-.95 3.19.87 6.55 4.07 7.5m109.57-154.02c-.91-.49-1.96-.78-3.09-.73-.69.03-6.9.29-16.9 1.67-15.96 2.2-41.59 7.26-69.99 18.76-1.97 5.89-2.76 10.08-2.78 10.2l-.64 3.56-.03.15-3.43 1.59c-1.77.82-3.48 1.67-5.15 2.55.72-.06 1.43-.21 2.12-.54 23.42-11.14 46.07-17.51 63.61-21.15 12.06-2.5 21.69-3.71 27.51-4.27 3.83-.37 6.02-.47 6.12-.47 2.8-.11 5.07-2.12 5.64-4.74.11-.49.18-.99.16-1.51a5.99 5.99 0 0 0-3.16-5.07Zm29.04-22.3c2.31 0 4.52-1.34 5.51-3.58 1.35-3.04-.02-6.61-3.06-7.96-.53-.24-7.17-3.15-16.47-5.45-5.63 3.84-9.07 6.92-9.59 7.39l-1.85 1.69-2.52.19s-.85.06-2.27.2c14.41 1.19 27.51 6.86 27.8 6.99.8.36 1.63.52 2.45.52Zm175.96 270.01a6.03 6.03 0 0 0 12.06 0c0-95.38-46.09-158.43-48.05-161.07-1.99-2.67-5.76-3.23-8.43-1.24a6.03 6.03 0 0 0-1.25 8.43c.46.62 45.67 62.66 45.67 153.87Zm23.41-188.59c.79.25 79.57 25.96 99.13 91.89a6.04 6.04 0 0 0 5.78 4.32 6.043 6.043 0 0 0 5.79-7.75c-21.41-72.14-103.57-98.86-107.06-99.96-3.18-1-6.56.76-7.57 3.93s.75 6.56 3.93 7.57m92.44-23.92-3.44-1.59-.03-.16-.63-3.56c-.03-.18-.76-3.98-2.52-9.4-26.71-10.68-50.88-15.67-66.7-17.98-11.21-1.64-18.24-1.94-18.98-1.96a6.4 6.4 0 0 0-2.41.4 5.97 5.97 0 0 0-3.84 5.4c-.01.29.02.56.05.84.3 2.94 2.71 5.29 5.75 5.41.11 0 2.98.13 7.96.66 6.4.68 16.29 2.03 28.39 4.66 17.13 3.72 38.66 10 60.89 20.57.84.4 1.72.59 2.59.59.12 0 .24-.04.36-.05-2.39-1.33-4.84-2.62-7.44-3.83m-127.44-61.09c1 2.25 3.21 3.59 5.52 3.59.82 0 1.64-.17 2.44-.52.16-.07 12.12-5.27 25.77-6.79-2.63-.29-4.13-.4-4.19-.4l-2.52-.18-1.86-1.71c-.48-.44-3.52-3.15-8.5-6.63-7.77 2.14-13.12 4.48-13.6 4.7a6.03 6.03 0 0 0-3.06 7.96Z"
            style="fill:#e3e3e3"></path><path
            d="M690.76 363.97c-1.49-3.5-3.19-6.99-5.1-10.45-2.15-3.9-4.57-7.74-7.3-11.51-9.43-12.97-22.54-24.89-40.72-33.91-2.83-11.68-13.76-46.79-44.67-56.06-27.82-8.35-51.67-11.11-59.16-11.82-7.77-6.36-37.52-28.42-73.63-26.8l-.38 5.12-.7 9.34c25.18-1.97 46.95 10.06 58.39 18.05 4.98 3.48 8.02 6.19 8.5 6.63l1.86 1.71 2.52.18c.06 0 1.56.12 4.19.4 8.74.95 30.13 3.81 54.24 11.05 19.34 5.8 28.83 26.68 32.87 39.06 1.76 5.42 2.49 9.22 2.52 9.4l.63 3.56.03.16 3.44 1.59c2.61 1.2 5.06 2.5 7.44 3.83 8.9 4.97 16.3 10.78 22.43 17.11 3.94 4.07 7.37 8.33 10.33 12.73 20.06 29.77 19.38 65.13 18.22 78.47-.62 7.14-15.79 21.45-30.1 31.15-.05.04-.1.07-.15.1l-1.42.97-.15.3c-2.39 2.46-1.88 6.36.5 24.64.49 3.72 1.09 8.35 1.13 9.13-.08 10.59-.69 22.46-7.04 29.32-13.37 14.46-49.72 10.12-61.65 8.69l-4.59-.54-2.43 3.92c-.23.37-23.31 37.17-56.31 49.17-33.12 12.05-102.17-9.75-102.87-9.97l-2.2-.7-2.2.7c-.69.22-69.75 22.01-102.87 9.97-33-12-56.08-48.8-56.31-49.17l-2.43-3.93-4.59.55c-13.18 1.57-48.2 5.76-61.39-8.5-5.05-5.46-7.62-14.43-7.84-27.32.04-1.46 1.03-8.86 1.75-14.27.53-3.99 1.07-8 1.43-11.04.71-5.88 1.13-9.44-2.74-12.03-13.99-9.45-29.48-24.05-30.1-31.15-1.16-13.34-1.84-48.71 18.22-78.47 2.96-4.4 6.4-8.67 10.33-12.73 6.66-6.88 14.78-13.15 24.73-18.39 1.67-.88 3.38-1.73 5.15-2.55l3.43-1.59.03-.15.64-3.56c.02-.13.81-4.31 2.78-10.2 4.17-12.46 13.67-32.58 32.6-38.26 26.13-7.84 49.06-10.55 56.16-11.25 1.43-.14 2.23-.2 2.27-.2l2.52-.19 1.85-1.69c.52-.47 3.96-3.55 9.59-7.39 12.46-8.49 35.72-20.69 62.12-16.75l-.75-8.98-.47-5.68c-38.2-3.89-70.19 19.82-78.3 26.45-7.49.71-31.34 3.48-59.16 11.82-30.91 9.27-41.85 44.38-44.67 56.06-18.18 9.02-31.29 20.94-40.72 33.91-2.74 3.76-5.16 7.61-7.3 11.51-1.91 3.46-3.6 6.95-5.1 10.45-12.1 28.33-11.44 56.91-10.37 69.1 1.32 15.15 23.31 32.54 32.97 39.48-.37 3.14-1 7.81-1.5 11.56-1.36 10.17-1.91 14.49-1.88 16.33.18 10.66 1.6 26.1 11.69 37.01 15.23 16.45 44.34 16.21 69.29 13.54 7.36 10.64 29.78 39.89 61.11 51.28 8.77 3.19 19.35 4.42 30.48 4.42 32.69 0 70.02-10.64 79.54-13.52 12.77 3.87 75.49 21.66 110.02 9.1 31.32-11.39 53.75-40.64 61.11-51.28 24.99 2.67 54.18 2.88 69.55-13.75 10.68-11.55 10.81-29.43 10.89-39.04 0-1.23-.24-3.35-1.25-11.1-.52-3.98-1.37-10.52-1.76-14.42 10.41-7.44 31.83-24.49 33.15-39.61 1.06-12.19 1.73-40.77-10.37-69.1"
          ></path><path
            fill="#9a9f9d"
            d="M419.43 169.79c-8.89 0-17.47-1.38-25.53-3.93l4.22 50.81.56 6.72.75 9 .27 3.28.63 7.64.63 7.64.21 2.51 1 12.05 2.62 31.61s8.48 7.54 19.08 7.54c4.91 0 10.27-1.61 15.47-6.34l2.44-32.81.89-12.01.03-.42.57-7.66.57-7.66.53-7.07.77-10.34.37-4.92 3.8-51.08a84.5 84.5 0 0 1-29.89 5.45Z"
          ></path><path
            d="m449.32 164.34-3.8 51.08-.37 4.92-.77 10.34-.53 7.07-.57 7.66-.57 7.66-.03.42-.89 12.01-2.44 32.81c-5.19 4.73-10.56 6.34-15.47 6.34-10.6 0-19.08-7.54-19.08-7.54l-2.62-31.61-1-12.05-.21-2.51-.63-7.64-.63-7.64-.27-3.28-.75-9-.56-6.72-4.22-50.81a84.4 84.4 0 0 1-15.06-6.42l4.51 54.33.47 5.68.75 8.98 1.12 13.44.63 7.64.35 4.26.28 3.38.72 8.73 2.69 32.43.48 5.77 4.33 3.85c1.29 1.15 13.04 11.19 28.7 11.19 9.23 0 17.94-3.5 25.21-10.11l4.26-3.88.43-5.75 2.48-33.24.51-6.84.4-5.31.18-2.35.57-7.66 1.2-16.09.7-9.34.38-5.12 4.21-56.57a84 84 0 0 1-15.07 7.48Z"
          ></path><path
            fill="#ef5934"
            d="M450.53 148.05a70.5 70.5 0 0 0 15.28-10.24c14.72-12.92 24.04-31.85 24.04-52.92 0-38.83-31.59-70.42-70.42-70.42s-70.42 31.59-70.42 70.42c0 23.06 11.14 43.57 28.32 56.42 4.67 3.49 9.79 6.41 15.25 8.67a70 70 0 0 0 26.85 5.33c11.16 0 21.71-2.62 31.1-7.26"
          ></path><path
            d="M419.43 169.79a84.5 84.5 0 0 0 44.96-12.93c23.96-15.02 39.93-41.66 39.93-71.96 0-46.81-38.08-84.9-84.9-84.9s-84.9 38.08-84.9 84.9c0 32.12 17.93 60.12 44.31 74.54 4.76 2.6 9.8 4.76 15.06 6.42a84.5 84.5 0 0 0 25.53 3.93Zm-42.09-28.48c-17.18-12.85-28.32-33.36-28.32-56.42 0-38.83 31.59-70.42 70.42-70.42s70.42 31.59 70.42 70.42c0 21.08-9.32 40.01-24.04 52.92-4.6 4.04-9.73 7.49-15.28 10.24a70 70 0 0 1-31.1 7.26c-9.5 0-18.57-1.9-26.85-5.33a70.6 70.6 0 0 1-15.25-8.67"
          ></path></symbol
        ><use href="#ai:local:Kueh22NoText"></use>
      </svg>
      <span class="hidden md:inline-block">Kueh 22</span>
    </a>
    <ul class="sm:flex gap-x-4 hidden">
      {
        links.map((link) => (
          <a
            href={link.href}
            data-active={link.href == currentUrl}
            class="data-[active=true]:font-semibold px-4 py-2 text-brown transition-all hover:shadow-custom outline-transparent outline hover:outline-black"
          >
            {link.text}
          </a>
        ))
      }
    </ul>
    <button
      class="border size-10 text-3xl grid place-items-center rounded sm:hidden cursor-pointer group"
      data-menu-open="false"
      id="menu-btn"
      aria-label="Toogle Mobile Menu"
    >
      <Icon
        name={"menu"}
        class="group-data-[menu-open=true]:hidden transition-all"
      />
      <Icon
        name={"close"}
        class="group-data-[menu-open=true]:block hidden transition-all"
      />
    </button>
  </nav>
</header>
<!-- Mobile Nav -->
<div
  id="mobile-menu"
  class="sm:hidden absolute left-4 w-[calc(100%_-_32px)] bg-white rounded-2xl shadow-xl overflow-hidden max-h-0 transition-all duration-300 ease-in-out top-28"
>
  <ul class="flex flex-col p-4 gap-y-2">
    {
      links.map((link) => (
        <a
          href={link.href}
          data-active={link.href == currentUrl}
          class="data-[active=true]:font-semibold block px-4 py-2 text-brown transition-all hover:bg-gray-100 rounded"
        >
          {link.text}
        </a>
      ))
    }
  </ul>
</div>
<script>
  const btn = document.getElementById("menu-btn")!;
  const menu = document.getElementById("mobile-menu")!;
  function toggleMenu(forceClose = false) {
    const isOpen = btn.getAttribute("data-menu-open") === "true";
    const newState = forceClose ? false : !isOpen;
    btn.setAttribute("data-menu-open", String(newState));
    if (newState) {
      menu.style.maxHeight = menu.scrollHeight + "px";
    } else {
      menu.style.maxHeight = "0";
    }
  }

  btn?.addEventListener("click", (e) => {
    e.stopPropagation(); // prevent click bubbling
    toggleMenu();
  });

  // Close on outside click
  document.addEventListener("click", (e) => {
    if (!menu.contains(e.target as Node) && !btn.contains(e.target as Node)) {
      toggleMenu(true);
    }
  });
</script>
